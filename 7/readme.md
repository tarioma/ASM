# 7 лабораторная
### 1 вариант

В соответствии с вариантом напишите программу на языке C++ и на языке ассемблера (с помощью ассемблерных вставок). Сравните полученный результат.

![изображение](https://github.com/tarioma/ASM/assets/125894838/91e6f624-faff-44de-975b-1c035a998f44)

#
C++
```
int main() {
    int a = 6;
    int x = 5;
    int y1, y2, y;

    if (x > a) {
        y1 = a + x;
    }
    else {
        y1 = 2*a - x;
    }

    if (x > 10) {
        y2 = a * x;
    }
    else {
        y2 = x;
    }

    y = y1 + y2;
}
```
10М прогонов по 5 раз (среднее): 6 321 мкс
# 
Assembler
```
int a = 6;
int x = 5;
int y1, y2, y;

__asm {
    mov eax, a
    mov ebx, x
    cmp ebx, eax
    jg x_greater_a
    jmp x_less_or_equal_a

    x_greater_a:
        mov ecx, a
        add ecx, ebx  // a + x
        mov y1, ecx
        jmp define_y2

    x_less_or_equal_a:
        mov ecx, a
        imul ecx, 2  // 2 * a
        sub ecx, ebx  // 2a - x
        mov y1, ecx

    define_y2:
        cmp ebx, 10
        jg x_greater_10
        jmp x_less_or_equal_10

        x_greater_10:
            imul eax, ebx  // a * x
            mov y2, eax
            jmp solve

        x_less_or_equal_10:
            mov y2, ebx

    solve:
        mov eax, y1
        add eax, y2
        mov y, eax
}
```
10М прогонов по 5 раз (среднее): 8 263 мкс
#
Вопросы для зачета по работе:
### 1. Какая команда выполняет сложение чисел?
```
add
```

### 2. Какой синтаксис команды сложения чисел?
приемник + источник = приемник

### 3. Какая команда выполняет сложение чисел с учётом флага переноса?
```
adc
```

### 4. Какой синтаксис команды сложения чисел с учётом флага переноса?
приемник + источник + CF = приемник

### 5. Какая команда выполняет вычитание чисел?
```
sub
```

### 6. Какой синтаксис команды вычитания чисел?
приемник - источник = приемник

### 7. Какая команда выполняет вычитание чисел с учётом флага переноса?
```
sbb
```

### 8. Какой синтаксис команды вычитания чисел с учётом флага переноса?
приемник - источник - CF = приемник

### 9. Какая команда выполняет умножение без знака?
```
mul
```

### 10. Какой синтаксис команды умножения без знака?
источник
mul operand8  ; результат в AX
mul operand16  ; результат в DX:AX
mul operand32  ; результат в EDX:EAX

### 11. Для чего используется флаг CF в команде умножения без знака?
Произошло ли переполнение при умножении.

### 12. Какая команда выполняет умножение чисел со знаком?
```
imul
```

### 13. Для чего используется флаг OF в команде умножения чисел со знаком?
Произошло ли переполнение при умножении.

### 14. Какой синтаксис команды умножения чисел со знаком?
приемник * источник = приемник
источник (8) = AX
источник (16) = DX:AX
источник (32) = EDX:EAX

### 15. Какую команду используют для деление чисел без знака?
```
div
```

### 16. Какой синтаксис команды деление чисел без знака?
AX / источник (8) = AL:AH
AX / источник (16) = AX:DX
EAX / источник (32) = EAX:EDX

### 17. Какие команды используются для расширения целого числа со знаком?
- cbw - расширяет байтовое число, хранящееся в AL, до слова в AX, знаковым расширением
- cwd - расширяет слово в AX до двойного слова в DX:AX, знаковым расширением
- cdq - расширяет двойное слово в DX:AX до четырех слов в EDX:EAX, знаковым расширением
- cqo - расширяет четыре слова в EDX:EAX до восьми слов в RDX:RAX, знаковым расширением

### 18. Какой синтаксис имеют команды расширения целого числа со знаком?
```
cbw, cwd, cdq, cqo
```

### 19. Какая команда используются для деления целого числа со знаком?
```
idiv
```

### 20. Какой синтаксис имеет команда деления целого числа со знаком?
AX / источник (8) = AL:AH
AX / источник (16) = AX:DX
EAX / источник (32) = EAX:EDX
При этом операнды знаковые.

### 21. Какие ошибки могут возникнуть при использовании команд деления?
Деление на ноль и переполнение.
